<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no" />
    <link rel="stylesheet" href="../../css/assembler.css"> 
<!-- START NAVBAR STYLING-->
    <link rel="stylesheet" href="../../css/navbar.css">    
    <!-- Style for the dropdown thing-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- END NAVBAR STYLING-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title id="HeadTitle">EEP1 Assembler</title>
    <!-- Global site tag (gtag.js) - Google Analytics-->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1G85960FGM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1G85960FGM');
    </script>
    <!--End of Google Analytics-->

</head>
<!-- START OF NAVBAR STUFF -->
<body style="background-color: #333333;">
    <header class="PageHeader">
        <div class="TopNavBar">
            <a href="../index.html"><img src="../../StaticContent/Logo.svg" id="Logo"/></a>
            <div class="dropdown">
                <button id="dropBtn">
                    <i class="fa fa-caret-right"></i>
                    [ASSEMBLERS]
                </button>
                <div class ="dropdown-content" id="myDropdown">
                    <a href="../Assembler/Assembler.html?cpu=EEP2">[EEP2-ASSEMBLER]</a>
                    <a href="../Assembler/Assembler.html?cpu=EEP1">[EEP1-ASSEMBLER]</a>
                    <a href="../Assembler/Assembler.html?cpu=EEP0">[EEP0-ASSEMBLER]</a>                      
                </div>
            </div>
        </div>
    </header>
    <script>
        document.getElementById('dropBtn').addEventListener('click', dropDownFunc)
        /* When the user clicks on the button, 
        toggle between hiding and showing the dropdown content */
        function dropDownFunc() {
            document.getElementById('myDropdown').classList.toggle('show');
        }
        
        // Close the dropdown if the user clicks outside of it
        window.onclick = function(e) {
            if (!e.target.matches('#dropBtn')) {
            let myDropdown = document.getElementById("myDropdown");
            if (myDropdown.classList.contains('show')) {
                myDropdown.classList.remove('show');
            }
            }
        }
    </script>

<!-- END OF NAVBAR STUFF -->
    <div class="AssemblerControls">
        <h1 id="MiddleBarTitle">[EEP1 - ASSEMBLER]</h1>
                
        <div class="toggle">
                <span class="switchLabel">[BIN]</span>
                <label class="switchBody">
                    <input type="checkbox" id="binhex" class="checkbox">
                    <span class="slider">
                        <img id="tc" src="../../StaticContent/tc1.png" alt="The wondeful Thomas Clarke">
                    </span>
                </label>
                <span class="switchLabel">[HEX]</span>
        </div>
        <div id="downloadBtn" class="downloadBtn" downloadable="true">
            <img src="../../StaticContent/binary-file.svg" alt="binary file" class="binaryFile">
        </div>
    </div>
    <div class="TextAreas">
        <textarea id="AssemblyInput" class="textArea" rows="10" spellcheck="false">
// SAMPLE EEP2 PROGRAM 
// (USE TOM CLARKE BUTTON TO SWITCH BETWEEN HEX AND BINARY, OR USE CTRL + SPACE)
MOV R0, R1
LOOP1: ADD R1, #2
SUB R3, R4 // UPPER/LOWER CASE DOES NOT MATTER
MOV R3 R4 // COMMAS ARE OPTIONAL
MOV R4, #34 // # IS MANDATORY FOR ANY IMMEDIATE
MOV R4, #0X22 // HEX IS OK
MOV R4, #0B100010 // BINARY IS OK
LDR R0, R1

//GAPS ARE IGNORED

JNE LOOP1 // JUMP TO INSTRUCTION TAGGED LOOP1
EXT #0X12 // THIS COMMENT GETS REMOVED
MOV R0, #0X10
// THIS IS A COMMENT AS WELL
        </textarea>   
        <div id="lineNumbers" class="lineNumbers">
            <span id="0">0</span>
        </div>
        <div readonly id="AssemblyOutput" class="textArea" rows="10" tabindex="0"></div>   
    </div> 
    <button id="assemblerBtn" type="button">Run Assembler</button>
    <script type="module" src="Assembler.js"></script>
</body>
</html>
